task kubernetesNodes(type:Exec) {
  commandLine 'kubectl', 'get', 'nodes'
}

task kubernetesGetDeployment(type:Exec) {
  commandLine "kubectl", "-n", "${K8_NAMESPACE}", "get", "deployment", "${project.ext.kubernetesDeployment}", "-o", "wide"
}

task kubernetesDeploy(type:Exec) {
  //commandLine "kubectl", "-n", "${K8_NAMESPACE}", "set", "image", "deployment/${project.ext.kubernetesDeployment}", "${project.ext.imageName}=${project.repository}/${project.ext.imageName}"
}

task kubernetesDeployStatus(type:Exec) {
  commandLine 'kubectl', '-n', "${K8_NAMESPACE}", 'rollout', 'status', "deployment/${project.ext.kubernetesDeployment}"
}
